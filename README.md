# Video to Canvas Skill

> å°†è§†é¢‘è½¬æ¢ä¸º Obsidian Canvas å¯è§†åŒ–ç¬”è®°çš„ Claude Code Skill

[![Claude Code](https://img.shields.io/badge/Claude%20Code-Skill-blue)](https://claude.ai/code)
[![Canvas Learning System](https://img.shields.io/badge/Canvas%20Learning%20System-Compatible-green)](https://github.com/oinani0721/canvas-learning-system)

## æ¦‚è¿°

`/video-to-canvas` æ˜¯ä¸€ä¸ªç«¯åˆ°ç«¯çš„ Claude Code Skillï¼Œå°†è§†é¢‘å†…å®¹è‡ªåŠ¨è½¬æ¢ä¸ºç»“æ„åŒ–çš„ Obsidian Canvas å¯è§†åŒ–ç¬”è®°ã€‚

```
ğŸ“¹ è§†é¢‘ â†’ ğŸ‘‚ è½¬å½• â†’ ğŸ‘ï¸ è§†è§‰æ£€æµ‹+æˆªå›¾ â†’ ğŸ§  èåˆç¬”è®° â†’ â±ï¸ æ—¶é—´æˆ³è½¬æ¢ â†’ ğŸ“Š Canvas
```

## ä¸ Canvas Learning System çš„é…åˆ

### ğŸ¯ æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Canvas Learning System                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚ video-to-canvas  â”‚â”€â”€â”€â–¶â”‚ Obsidian Canvas  â”‚                   â”‚
â”‚  â”‚     Skill        â”‚    â”‚   (å¯è§†åŒ–ç¬”è®°)    â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚           â”‚                       â”‚                              â”‚
â”‚           â–¼                       â–¼                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚   Markdown ç¬”è®°   â”‚    â”‚   çŸ¥è¯†å›¾è°±è§†å›¾    â”‚                   â”‚
â”‚  â”‚  (ç»“æ„åŒ–å†…å®¹)     â”‚    â”‚  (å¯äº¤äº’å­¦ä¹ )    â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚           â”‚                       â”‚                              â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                       â–¼                                          â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚              â”‚  å­¦ä¹ è¿½è¸ªä¸å¤ä¹    â”‚                                â”‚
â”‚              â”‚  (Obsidian æ’ä»¶) â”‚                                â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ”— é…åˆå…³ç³»

| ç»„ä»¶ | åŠŸèƒ½ | è¾“å…¥ | è¾“å‡º |
|------|------|------|------|
| **video-to-canvas** | è§†é¢‘å†…å®¹æå–ä¸å¯è§†åŒ– | è§†é¢‘æ–‡ä»¶ | .md + .canvas + screenshots |
| **Canvas Learning** | çŸ¥è¯†ç»„ç»‡ä¸å­¦ä¹ è¿½è¸ª | .canvas æ–‡ä»¶ | å­¦ä¹ è¿›åº¦ã€å¤ä¹ è®¡åˆ’ |
| **Obsidian Vault** | çŸ¥è¯†å­˜å‚¨ä¸ç®¡ç† | æ‰€æœ‰è¾“å‡º | ä¸ªäººçŸ¥è¯†åº“ |

### ğŸŒŸ æ ¸å¿ƒä»·å€¼

1. **è§†é¢‘ â†’ å¯è§†åŒ–çŸ¥è¯†å›¾è°±**
   - ä¸æ˜¯ç®€å•çš„è§†é¢‘ç¬”è®°ï¼Œè€Œæ˜¯**çŸ¥è¯†ç»“æ„çš„å¯è§†åŒ–è¡¨è¾¾**
   - Canvas ä¸­çš„èŠ‚ç‚¹å’Œè¾¹åæ˜ çŸ¥è¯†ç‚¹ä¹‹é—´çš„é€»è¾‘å…³ç³»

2. **è¢«åŠ¨å­¦ä¹  â†’ ä¸»åŠ¨æ¢ç´¢**
   - Canvas æ”¯æŒæ‹–æ‹½ã€ç¼©æ”¾ã€è¿æ¥
   - å­¦ä¹ è€…å¯ä»¥åœ¨ Canvas ä¸­é‡æ–°ç»„ç»‡çŸ¥è¯†ç»“æ„

3. **ä¸ Obsidian ç”Ÿæ€æ— ç¼é›†æˆ**
   - è¾“å‡ºæ ‡å‡† Markdown + JSON Canvas æ ¼å¼
   - å¯ä¸ Obsidian çš„åŒå‘é“¾æ¥ã€Graph View é…åˆä½¿ç”¨

## å®‰è£…

### æ–¹å¼ä¸€ï¼šç›´æ¥å¤åˆ¶åˆ° Claude Code skills ç›®å½•

```bash
git clone https://github.com/oinani0721/video-to-canvas-skill.git
cp -r video-to-canvas-skill ~/.claude/skills/video-to-canvas
```

### æ–¹å¼äºŒï¼šç¬¦å·é“¾æ¥

```bash
git clone https://github.com/oinani0721/video-to-canvas-skill.git ~/projects/video-to-canvas-skill
ln -s ~/projects/video-to-canvas-skill ~/.claude/skills/video-to-canvas
```

## ä¾èµ–

- **Claude Code**: Claude Code CLI å·¥å…·
- **Gemini API**: ç”¨äºè§†é¢‘åˆ†æå’Œç¬”è®°ç”Ÿæˆ
- **FFmpeg**: ç”¨äºæå–è§†é¢‘æˆªå›¾
- **Python 3.8+**: è¿è¡Œè„šæœ¬

### ç¯å¢ƒå˜é‡

```bash
export GEMINI_API_KEY="your-api-key"
# æˆ–åœ¨ ~/lore-engine/.env ä¸­é…ç½®
```

## ä½¿ç”¨

### åŸºç¡€ç”¨æ³•

```bash
# å®Œæ•´æµç¨‹ï¼šè§†é¢‘ â†’ Canvas
/video-to-canvas /path/to/video.mp4

# æŒ‡å®šè¾“å‡ºç›®å½•
/video-to-canvas /path/to/video.mp4 -o /output/dir

# æŒ‡å®šç¬”è®°æ·±åº¦
/video-to-canvas /path/to/video.mp4 --depth deep_dive
```

### æ·±åº¦é€‰é¡¹

| é€‰é¡¹ | è¯´æ˜ |
|------|------|
| `short_hand` | æç®€æ¨¡å¼ï¼Œè¦ç‚¹åˆ—è¡¨ |
| `balanced` | å¹³è¡¡æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰ï¼Œæ®µè½+åˆ—è¡¨ |
| `deep_dive` | æ·±åº¦æ¨¡å¼ï¼Œè¯¦å°½è§£é‡Š |

### ä»…ç”Ÿæˆ Canvasï¼ˆå·²æœ‰ MDï¼‰

```bash
/video-to-canvas --canvas-only existing-notes.md
```

## å·¥ä½œæµç¨‹

### Stage 1 (Ears): éŸ³é¢‘è½¬å½•

ä½¿ç”¨ WhisperXï¼ˆé¦–é€‰ï¼‰æˆ– Gemini Audioï¼ˆå¤‡é€‰ï¼‰è¿›è¡ŒéŸ³é¢‘è½¬å½•ï¼Œæ”¯æŒ 15 åˆ†é’Ÿåˆ†æ®µé¿å…å¹»è§‰ã€‚

### Stage 2 (Eyes): Gemini è§†è§‰åˆ†æ + FFmpeg æˆªå›¾

ä½¿ç”¨ Gemini 2.5 Flash åˆ†æè§†é¢‘ï¼Œæ£€æµ‹ç”»é¢å˜åŒ–ç‚¹ï¼ˆå¹»ç¯ç‰‡åˆ‡æ¢ã€ä»£ç å˜åŒ–ã€å›¾è¡¨å‡ºç°ï¼‰ï¼Œç„¶åç”¨ FFmpeg æå–å…³é”®å¸§æˆªå›¾ã€‚

### Stage 3 (Brain): LLM åŒé€šé“èåˆç¬”è®°ç”Ÿæˆ

èåˆè½¬å½•æ–‡æœ¬ + æˆªå›¾ç”Ÿæˆç»“æ„åŒ–ç¬”è®°ï¼š
- **æŒ‰çŸ¥è¯†ç»“æ„ç»„ç»‡**ï¼ˆä¸æ˜¯æ—¶é—´æµæ°´è´¦ï¼‰
- **æ™ºèƒ½æ¨ç†è¡¥å…¨**ï¼ˆå¡«è¡¥è§†é¢‘ä¸­ä¸å®Œæ•´çš„è§£é‡Šï¼‰
- **åˆ†å±‚ç»„ç»‡**ï¼ˆä¸»é¢˜ â†’ å­ä¸»é¢˜ â†’ çŸ¥è¯†ç‚¹ï¼‰

### Stage 3.5: åå¤„ç† â€” Media Extended æ—¶é—´æˆ³è½¬æ¢

è‡ªåŠ¨å°†ç¬”è®°ä¸­çš„æ—¶é—´æˆ³è½¬æ¢ä¸º Obsidian [Media Extended](https://github.com/aidenlx/media-extended) æ’ä»¶å…¼å®¹çš„å¯ç‚¹å‡»æ ¼å¼ï¼š

| å…ƒç´  | è½¬æ¢å‰ | è½¬æ¢å | è¯´æ˜ |
|------|--------|--------|------|
| æˆªå›¾è¯´æ˜ | `*å›¾ï¼šæè¿° [05:07]*` | `*å›¾ï¼šæè¿° [[video.mp4#t=307\|â±05:07]]*` | Wikilinkï¼Œç‚¹å‡»è·³è½¬è§†é¢‘ |
| å†…è”æ—¶é—´æˆ³ | `è§¦å‘å»ºè®® [00:48]` | `è§¦å‘å»ºè®® [00:48]()` | Media Extended å¯ç‚¹å‡»æ ¼å¼ |
| æ—¶é—´èŒƒå›´ | `[00:48-00:54]` | *(ç§»é™¤)* | ä¸é€‚åˆåšç‚¹å‡»ç›®æ ‡ |
| ç¬”è®°é¡¶éƒ¨ | *(æ— )* | `> [!video]- è§†é¢‘æ’­æ”¾å™¨`<br>`> ![[video.mp4]]` | åµŒå…¥è§†é¢‘æ’­æ”¾å™¨ |

è½¬æ¢ç”± `add_video_timestamps.py` æ‰§è¡Œï¼Œå·²é›†æˆåˆ°ç®¡é“ä¸­è‡ªåŠ¨è¿è¡Œã€‚ä¹Ÿå¯ç‹¬ç«‹ä½¿ç”¨ï¼š

```bash
python scripts/add_video_timestamps.py "ç¬”è®°.md" "è§†é¢‘.mp4"
```

### Phase 4: Canvas æ™ºèƒ½ç”Ÿæˆ

Claude ç†è§£ç¬”è®°å†…å®¹åï¼Œç”Ÿæˆ Canvasï¼š
- **è¯­ä¹‰åˆ†ç»„**ï¼šç›¸å…³çŸ¥è¯†ç‚¹æ”¾å…¥åŒä¸€ Group
- **æ™ºèƒ½å¸ƒå±€**ï¼šå¹¶åˆ—å…³ç³»æ°´å¹³æ’åˆ—ï¼Œå±‚çº§å…³ç³»å‚ç›´æ’åˆ—
- **å…³ç³»æ ‡æ³¨**ï¼šç”¨ Edge å’Œæ ‡ç­¾è¡¨è¾¾çŸ¥è¯†ç‚¹å…³ç³»

## è¾“å‡ºæ ¼å¼

### ç›®å½•ç»“æ„

```
output/
â”œâ”€â”€ video-name.md          # Markdown ç¬”è®°
â”œâ”€â”€ video-name.canvas      # Obsidian Canvas æ–‡ä»¶
â”œâ”€â”€ video-name_changes.json # å˜åŒ–ç‚¹ä¿¡æ¯ï¼ˆè°ƒè¯•ç”¨ï¼‰
â””â”€â”€ screenshots/           # æˆªå›¾ç›®å½•
    â”œâ”€â”€ 00-30.jpg
    â”œâ”€â”€ 00-36.jpg
    â””â”€â”€ ...
```

### Canvas ç»“æ„

```json
{
  "nodes": [
    { "type": "group", "label": "ç« èŠ‚æ ‡é¢˜", ... },
    { "type": "text", "text": "çŸ¥è¯†ç‚¹å†…å®¹", ... },
    { "type": "file", "file": "screenshots/00-36.jpg", ... }
  ],
  "edges": [
    { "fromNode": "...", "toNode": "...", "label": "å…³ç³»" }
  ]
}
```

## æ–‡ä»¶ç»“æ„

```
video-to-canvas-skill/
â”œâ”€â”€ SKILL.md                    # ä¸» Skill å®šä¹‰
â”œâ”€â”€ README.md                   # æœ¬æ–‡æ¡£
â”œâ”€â”€ references/
â”‚   â”œâ”€â”€ json-canvas-spec.md    # JSON Canvas æ ¼å¼è§„èŒƒ
â”‚   â””â”€â”€ v2-architecture.md     # V2 Lore Engine æ¶æ„è¯´æ˜
â”œâ”€â”€ config/
â”‚   â””â”€â”€ default-config.json    # é»˜è®¤é…ç½®
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ video_to_md.py             # Stage 1-3 ä¸»ç®¡é“è„šæœ¬
â”‚   â”œâ”€â”€ transcriber.py             # Stage 1 éŸ³é¢‘è½¬å½• (WhisperX/Gemini)
â”‚   â”œâ”€â”€ add_video_timestamps.py    # Stage 3.5 Media Extended æ—¶é—´æˆ³è½¬æ¢
â”‚   â”œâ”€â”€ prompt_builder_v2.py       # V2 æç¤ºè¯æ„å»ºå™¨
â”‚   â”œâ”€â”€ prompt_builder.py          # V1 æç¤ºè¯æ„å»ºå™¨
â”‚   â”œâ”€â”€ styles.py                  # ç¬”è®°é£æ ¼å®šä¹‰
â”‚   â””â”€â”€ fusion_detector.py         # åŒé€šé“èåˆæ£€æµ‹å™¨
â””â”€â”€ sub-skills/                 # å­ Skillï¼ˆå¯é€‰ï¼‰
```

## ä¸å…¶ä»–å·¥å…·çš„å¯¹æ¯”

| ç‰¹æ€§ | BiliNote | Lore Engine | video-to-canvas |
|------|---------|-------------|-----------------|
| è§†é¢‘åˆ†æ | æ–‡æœ¬æ¨æ–­ | ä¸æ”¯æŒ | Gemini è§†è§‰æ£€æµ‹ |
| ç¬”è®°ç»„ç»‡ | æ—¶é—´æµæ°´è´¦ | çŸ¥è¯†ç»“æ„ | çŸ¥è¯†ç»“æ„ |
| å¯è§†åŒ– | âŒ | âŒ | âœ… Canvas |
| AI å¸ƒå±€ | âŒ | âŒ | âœ… Claude |

## ç¤ºä¾‹

### è¾“å…¥è§†é¢‘

Obsidian æ•™ç¨‹è§†é¢‘ï¼ˆ21åˆ†é’Ÿï¼‰

### è¾“å‡ºæ•ˆæœ

```
Canvas å¯è§†åŒ–ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¸€ã€æ ¸å¿ƒä¼˜åŠ¿                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚åŒå‘é“¾æ¥â”‚â”€â”€â”‚Zettel  â”‚  â”‚æœ¬åœ°å­˜å‚¨â”‚  â”‚é«˜è‡ªå®šä¹‰â”‚        â”‚
â”‚  â”‚[æˆªå›¾]  â”‚  â”‚[æˆªå›¾]  â”‚  â”‚[æˆªå›¾]  â”‚  â”‚[æˆªå›¾]  â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  äºŒã€ä¼˜ç¼ºç‚¹                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ ä¼˜ç‚¹       â”‚          â”‚ ç¼ºç‚¹       â”‚                â”‚
â”‚  â”‚ â€¢ é«˜æ•ˆç‡   â”‚          â”‚ â€¢ æ˜“æŠ˜è…¾   â”‚                â”‚
â”‚  â”‚ â€¢ å…¨åŠŸèƒ½   â”‚          â”‚ â€¢ åŒæ­¥éš¾   â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## è®¸å¯è¯

MIT License

## ç›¸å…³é¡¹ç›®

- [Obsidian](https://obsidian.md/) - çŸ¥è¯†ç®¡ç†å·¥å…·
- [JSON Canvas](https://jsoncanvas.org/) - å¼€æ”¾çš„ç”»å¸ƒæ ¼å¼è§„èŒƒ
- [Claude Code](https://claude.ai/code) - Claude AI ç¼–ç¨‹åŠ©æ‰‹
- [kepano/obsidian-skills](https://github.com/kepano/obsidian-skills) - Obsidian å®˜æ–¹ Agent Skills
